kind: PrometheusScalarComputer
id: foo
query: sum(container_memory_usage_bytes<<namespace="{app/ns}">>)

---

kind: PrometheusSeriesComputer
id: bar
query: sum(container_memory_usage_bytes<<namespace="{app/ns}">>)

---

kind: PrometheusSeriesComputer
id: baz
query: sum(container_fs_writes_bytes_total<<namespace!="">>) by (namespace)
step: 1d
t0_offset:
  days: 4

---

kind: MemCpuMetricsProvider
memory:
  usage_now:
    kind: PrometheusScalarComputer
    query: sum(container_memory_usage_bytes<<namespace={app/ns}>>)
  usage_series:
    kind: PrometheusSeriesComputer
    query: sum(container_memory_usage_bytes<<namespace={app/ns}>>)
  series_usage:
    kind: PrometheusScalarComputer
    query: sum(container_memory_usage_bytes<<namespace="{app/ns}">>)
    time_start: x
    time_end: y

---

kind: NumAndChartStatsProvider
view: histogram
number:
  kind: PrometheusComputer
  id: nectar.current_memory_usage_bytes
  query: sum(container_memory_usage_bytes<<namespace={app/ns}>>)
series:
  kind: PrometheusComputer
  expr: sum(container_memory_usage_bytes<<namespace={app/ns}>>)
  time_start: x
  time_end: y